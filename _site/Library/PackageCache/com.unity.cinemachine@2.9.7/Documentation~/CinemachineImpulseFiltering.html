<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Filtering impulses | FSM Unity Framework </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Filtering impulses | FSM Unity Framework ">
      
      
      <link rel="icon" href="../../../../images/favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/acarbonellb33/Unity_FSM_ToolKit/blob/main/Library/PackageCache/com.unity.cinemachine@2.9.7/Documentation~/CinemachineImpulseFiltering.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="filtering-impulses">Filtering impulses</h1>

<p>Filtering lets you fine-tune how and when an Impulse Source generates impulses. Cinemachine Impulse allows two types of filtering:</p>
<ul>
<li><p>Use channel filtering to set things up so that an Impulse Listener reacts to certain Impulse Sources and ignores others. See <a href="#ChannelFiltering">Filtering with channels</a> below for details.</p>
</li>
<li><p>Use Trigger Object Filtering with Collision Impulse Sources to set things up so that only certain GameObjects trigger an impulse. See <a href="#TriggerObjectFiltering">Filtering with layers and tags</a> for details.</p>
</li>
</ul>
<p><a name="ChannelFiltering"></a></p>
<h2 id="filtering-with-channels">Filtering with channels</h2>
<p>By default, every Impulse Listener reacts to every Impulse Source within range. Channels allow you to more precisely control which Impulse Sources an Impulse Listener reacts to. To set up channel filtering, you need to do three things:</p>
<ul>
<li>Set up your channels</li>
<li>Set your Impulse Sources to broadcast on one or more channels</li>
<li>Set your Impulse Listeners to listen to one or more channels</li>
</ul>
<p>When an Impulse Listener is listening to specific channels, it only reacts to Impulse Sources that broadcast on those channels.</p>
<h3 id="adding-channels">Adding channels</h3>
<p>The <strong>CinemachineImpulseChannels</strong> script creates channels in your Scene. It has one channel by default, and you can add as many new channels as you need, up to a maximum of 31.</p>
<p>To add new channels:</p>
<ol>
<li><p>Inspect the <strong>CinemachineImpulseChannels</strong> (<strong>Impulse Channel &gt; Edit</strong>) script by doing one of the following:</p>
<ul>
<li><p>In the Cinemachine Impulse Listener inspector, navigate to the <strong>Channel Mask</strong> drop-down and click the <strong>Edit</strong> button next to it.</p>
</li>
<li><p>In the Cinemachine Impulse Source or Cinemachine Collision Impulse Source inspector, navigate to the <strong>Impulse Channel</strong> drop-down and click the <strong>Edit</strong> button next to it.</p>
</li>
</ul>
</li>
<li><p>Expand the <strong>Impulse Channels</strong> property group and set the <strong>Size</strong> property to the number of channels you want. A new entry appears for each channel.</p>
</li>
<li><p>Rename your new channels.</p>
<p><img src="images/InspectorImpulseChannelsScript.png" alt=""></p>
<p>Channels are available from the channel drop-down in the Inspector as soon as you add them.</p>
</li>
</ol>
<h3 id="setting-listen--broadcast-channels">Setting listen / broadcast channels</h3>
<p>After setting up your channels, you need to define how your Impulse Listeners and Impulse Sources use them.</p>
<ul>
<li><p>Inspect each Impulse Listener, and choose the channels you want it to listen to from the <strong>Channel Mask</strong> drop-down.</p>
<p><img src="images/InspectorImpulseListenerChannelsMenu.png" alt=""></p>
</li>
<li><p>Inspect each Impulse Source or Collision Impulse Source, and choose the channels you want it to broadcast on from the <strong>Impulse Channel</strong> drop-down.</p>
<p><img src="images/InspectorImpulseSourceChannelsMenu.png" alt=""></p>
<p>You can select multiple filters from the drop down. You can also choose <strong>Everything</strong> to use all filters, or <strong>Nothing</strong> to use none of them.</p>
</li>
</ul>
<p><a name="TriggerObjectFiltering"></a></p>
<h2 id="filtering-with-layers-and-tags">Filtering with layers and tags</h2>
<p>You can use Unity’s <a href="https://docs.unity3d.com/Manual/Layers.html">Layers</a> and <a href="https://docs.unity3d.com/Manual/Tags.html">Tags</a> to specify which GameObjects trigger an impulse when they collide with a Collision Impulse Source, or enter a trigger zone. This is called <strong>Trigger Object Filtering</strong>.</p>
<p>The Cinemachine Collision Impulse Source component has two <strong>Trigger Object Filter</strong> properties:</p>
<ul>
<li><p>The <strong>Layer Mask</strong> drop-down lists all of the Scene’s layers. When you select one or more layers, GameObjects in those layers trigger impulses when they collide with the Impulse Source. The Impulse Source ignores collisions with GameObjects on other layers.</p>
</li>
<li><p>The <strong>Ignore Tag</strong> drop-down lists all of the Scene’s tags. When you select a tag, GameObjects with that tag do not trigger impulses when they collide with the Impulse Source, even if they are in a layer specified in Layer Mask.</p>
</li>
</ul>
<p>For example, in a Scene where a large animal is lumbering through a forest, you might want the camera to shake when it collides with large trees, but not small saplings.</p>
<p>One way to set that up would be to make the animal a Collision Impulse Source, put all of the large trees on their own layer, and select that as the Layer Mask.</p>
<p>If all of the trees, large ones and saplings alike, are already on the same layer, you could assign a special tag to the saplings, and use the <strong>Ignore Tag</strong> property to filter them out.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/acarbonellb33/Unity_FSM_ToolKit/blob/main/Library/PackageCache/com.unity.cinemachine@2.9.7/Documentation~/CinemachineImpulseFiltering.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
