<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Decal Renderer Feature | FSM Unity Framework </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Decal Renderer Feature | FSM Unity Framework ">
      
      
      <link rel="icon" href="../../../../images/favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/acarbonellb33/Unity_FSM_ToolKit/blob/main/Library/PackageCache/com.unity.render-pipelines.universal@14.0.9/Documentation~/renderer-feature-decal.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="decal-renderer-feature">Decal Renderer Feature</h1>

<p>With the Decal Renderer Feature, Unity can project specific Materials (decals) onto other objects in the Scene. The decals interact with the Scene's lighting and wrap around Meshes.</p>
<p><img src="Images/decal/decal-sample-without.png" alt="Sample scene without decals"><br><em>Sample scene without decals</em></p>
<p><img src="Images/decal/decal-sample-with.png" alt="Sample scene with decals"><br><em>Sample scene with decals. The decals hide the seams between materials and add artistic details.</em></p>
<p>For examples of how to use Decals, see the <a href="package-sample-urp-package-samples.html#decals">Decals samples in URP Package Samples</a>.</p>
<h2 id="how-to-use-the-feature">How to use the feature</h2>
<p>To add decals to your Scene:</p>
<ol>
<li><p><a href="urp-renderer-feature-how-to-add.html">Add the Decal Renderer Feature</a> to the URP Renderer.</p>
</li>
<li><p>Create a Material, and assign it the <code>Shader Graphs/Decal</code> shader. In the Material, select the Base Map and the Normal Map.</p>
<p><img src="Images/decal/decal-example-material.png" alt="Example decal Material"></p>
</li>
<li><p>Create a new Decal Projector GameObject, or add a <a href="#decal-projector-component">Decal Projector component</a> to an existing GameObject.</p>
</li>
</ol>
<p>The following illustration shows a Decal Projector in the Scene.</p>
<p><img src="Images/decal/decal-projector-selected-with-inspector.png" alt="Decal Projector in the Scene."></p>
<p>For more information, see also <a href="#decal-projector-component">Decal Projector component</a>.</p>
<p><a name="decal-gameobject"></a>An alternative way to add decals to a Scene:</p>
<ol>
<li><p>Create a Quad GameObject.</p>
</li>
<li><p>Assign a Decal Material to the GameObject.</p>
</li>
<li><p>Position the Quad on the surface where you want the decal to be. If necessary, adjust the <a href="decal-shader.html#mesh-bias-type">mesh bias</a> value to prevent z-fighting.</p>
</li>
</ol>
<h2 id="limitations">Limitations</h2>
<p>This feature has the following limitations:</p>
<ul>
<li>The decal projection does not work on transparent surfaces.</li>
</ul>
<h2 id="decal-renderer-feature-properties">Decal Renderer Feature properties</h2>
<p>This section describes the properties of the Decal Renderer Feature.</p>
<p><img src="Images/decal/decal-rf-inspector.png" alt="Decal Renderer Feature, Inspector view."><br><em>Decal Renderer Feature, Inspector view.</em></p>
<h3 id="technique">Technique</h3>
<p>Select the rendering technique for the Renderer Feature.</p>
<p>This section describes the options in this property.</p>
<h4 id="automatic">Automatic</h4>
<p>Unity selects the rendering technique automatically based on the build platform. The <a href="rendering/deferred-rendering-path.html#accurate-g-buffer-normals">Accurate G-buffer normals</a> option is also taken into account, as it prevents normal blending from working correctly without the D-Buffer technique.</p>
<h4 id="dbuffer">DBuffer</h4>
<p>Unity renders decals into the Decal buffer (DBuffer). Unity overlays the content of the DBuffer on top of the opaque objects during the opaque rendering.</p>
<p>Selecting this technique reveals the <strong>Surface Data</strong> property. The Surface Data property lets you specify which surface properties of decals Unity blends with the underlying meshes. The Surface Data property has the following options:</p>
<ul>
<li><strong>Albedo</strong>: decals affect the base color and the emission color.</li>
<li><strong>Albedo Normal</strong>: decals affect the base color, the emission color, and the normals.</li>
<li><strong>Albedo Normal MAOS</strong>: decals affect the base color, the emission color, the normals, the metallic values, the smoothness values, and the ambient occlusion values.</li>
</ul>
<p><strong>Limitations:</strong></p>
<ul>
<li><p>This technique requires the DepthNormal prepass, which makes the technique less efficient on GPUs that implement tile-based rendering.</p>
</li>
<li><p>This technique does not work on particles and terrain details.</p>
</li>
</ul>
<h4 id="screen-space-technique">Screen Space</h4>
<p>Unity renders decals after the opaque objects using normals that Unity reconstructs from the depth texture, or from the G-Buffer when using the Deferred rendering path. Unity renders decals as meshes on top of the opaque meshes. This technique supports only the normal blending. When using the Deferred rendering path with <a href="rendering/deferred-rendering-path.html#accurate-g-buffer-normals">Accurate G-buffer normals</a>, blending of normals is not supported, and will yield incorrect results.</p>
<p>Screen space decals are recommended for mobile platforms that use tile-based rendering, because URP doesn't create a DepthNormal prepass unless you enable <strong>Use Rendering Layers</strong>.</p>
<p>Selecting this technique reveals the following properties.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Normal Blend</strong></td>
<td>The options in this property (Low, Medium, and High) determine the number of samples of the depth texture that Unity takes when reconstructing the normal vector from the depth texture. The higher the quality, the more accurate the reconstructed normals are, and the higher the performance impact is.</td>
</tr>
<tr>
<td>    <strong>Low</strong></td>
<td>Unity takes one depth sample when reconstructing normals.</td>
</tr>
<tr>
<td>    <strong>Medium</strong></td>
<td>Unity takes three depth samples when reconstructing normals.</td>
</tr>
<tr>
<td>    <strong>High</strong></td>
<td>Unity takes five depth samples when reconstructing normals.</td>
</tr>
</tbody>
</table>
<h3 id="max-draw-distance">Max Draw Distance</h3>
<p>The maximum distance from the Camera at which Unity renders decals.</p>
<h3 id="use-rendering-layers">Use Rendering Layers</h3>
<p>Select this check box to enable the <a href="features/rendering-layers.html">Rendering Layers</a> functionality.</p>
<p>If you enable <strong>Use Rendering Layers</strong>, URP creates a DepthNormal prepass. This makes decals less efficient on GPUs that implement tile-based rendering.</p>
<h2 id="decal-projector-component">Decal Projector component</h2>
<p>The Decal Projector component lets Unity project decals onto other objects in the Scene. A Decal Projector component must use a Material with the <a href="decal-shader.html">Decal Shader Graph</a> assigned (<code>Shader Graphs/Decal</code>).</p>
<p>For more information on how to use the Decal Projector, see section <a href="#how-to-use-the-feature">How to use the feature</a>.</p>
<p>The Decal Projector component contains the Scene view editing tools and the Decal Projector properties.</p>
<p><img src="Images/decal/decal-projector-component-inspector.png" alt="Decal Projector component in the Inspector."><br><em>Decal Projector component in the Inspector.</em></p>
<blockquote>
<p><strong>NOTE</strong>: If you assign a Decal Material to a GameObject directly (not via a Decal Projector component), then Decal Projectors do not project decals on such GameObject.</p>
</blockquote>
<h3 id="decal-scene-view-editing-tools">Decal Scene view editing tools</h3>
<p>When you select a Decal Projector, Unity shows its bounds and the projection direction.</p>
<p>The Decal Projector draws the decal Material on every Mesh inside the bounding box.</p>
<p>The white arrow shows the projection direction. The base of the arrow is the pivot point.</p>
<p><img src="Images/decal/decal-projector-bounding-box.png" alt="Decal Projector bounding box"></p>
<p>The Decal Projector component provides the following Scene view editing tools.</p>
<p><img src="Images/decal/decal-scene-view-editing-tools.png" alt="Scene view editing tools"></p>
<table>
<thead>
<tr>
<th><strong>Icon</strong></th>
<th><strong>Action</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="Images/decal/decal-projector-scale.png" alt=""></td>
<td><strong>Scale</strong></td>
<td>Select to scale the projector box and the decal. This tool changes the UVs of the Material to match the size of the projector box. The tool does not affect the pivot point.</td>
</tr>
<tr>
<td><img src="Images/decal/decal-projector-crop.png" alt=""></td>
<td><strong>Crop</strong></td>
<td>Select to crop or tile the decal with the projector box. This tool changes the size of the projector box but not the UVs of the Material. The tool does not affect the pivot point.</td>
</tr>
<tr>
<td><img src="Images/decal/decal-projector-pivotuv.png" alt=""></td>
<td><strong>Pivot / UV</strong></td>
<td>Select to move the pivot point of the decal without moving the projection box. This tool changes the transform position.<br>This tool also affects the UV coordinates of the projected texture.</td>
</tr>
</tbody>
</table>
<h3 id="decal-projector-component-properties">Decal Projector component properties</h3>
<p>This section describes the Decal Projector component properties.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Scale Mode</strong></td>
<td>Select whether this Decal Projector inherits the Scale values from the Transform component of the root GameObject.<br>Options:<br>• <strong>Scale Invariant</strong>: Unity uses the scaling values (Width, Height, etc.) only in this component, and ignores the values in the root GameObject.<br>• <strong>Inherit from Hierarchy</strong>: Unity evaluates the scaling values for the decal by multiplying the <a href="https://docs.unity3d.com/ScriptReference/Transform-lossyScale.html">lossy Scale</a> values of the Transform of the root GameObject by the Decal Projector's scale values.<br><strong>Note</strong>: since the Decal Projector uses the orthogonal projection, if the root GameObject is <a href="https://docs.unity3d.com/Manual/class-Transform.html">skewed</a>, the decal does not scale correctly.</td>
</tr>
<tr>
<td><strong>Width</strong></td>
<td>The width of the projector bounding box. The projector scales the decal to match this value along the local X axis.</td>
</tr>
<tr>
<td><strong>Height</strong></td>
<td>The height of the projector bounding box. The projector scales the decal to match this value along the local Y axis.</td>
</tr>
<tr>
<td><strong>Projection Depth</strong></td>
<td>The depth of the projector bounding box. The projector projects decals along the local Z axis.</td>
</tr>
<tr>
<td><strong>Pivot</strong></td>
<td>The offset position of the center of the projector bounding box relative to the origin of the root GameObject.</td>
</tr>
<tr>
<td><strong>Material</strong></td>
<td>The Material to project. The Material must use a Shader Graph that has the Decal Material type. For more information, see the page <a href="decal-shader.html">Decal Shader Graph</a>.</td>
</tr>
<tr>
<td><strong>Tiling</strong></td>
<td>The tiling values for the decal Material along its UV axes.</td>
</tr>
<tr>
<td><strong>Offset</strong></td>
<td>The offset values for the decal Material along its UV axes.</td>
</tr>
<tr>
<td><strong>Opacity</strong></td>
<td>This property lets you specify the opacity value. A value of 0 makes the decal fully transparent, a value of 1 makes the decal as opaque as defined by the <strong>Material</strong>.</td>
</tr>
<tr>
<td><strong>Draw Distance</strong></td>
<td>The distance from the Camera to the Decal at which this projector stops projecting the decal and URP no longer renders the decal.</td>
</tr>
<tr>
<td><strong>Start Fade</strong></td>
<td>Use the slider to set the distance from the Camera at which the projector begins to fade out the decal. Values from 0 to 1 represent a fraction of the <strong>Draw Distance</strong>. With a value of 0.9, Unity starts fading the decal out at 90% of the <strong>Draw Distance</strong> and finishes fading it out at the <strong>Draw Distance</strong>.</td>
</tr>
<tr>
<td><strong>Angle Fade</strong></td>
<td>Use the slider to set the fade out range of the decal based on the angle between the decal's backward direction and the vertex normal of the receiving surface.</td>
</tr>
</tbody>
</table>
<h2 id="performance">Performance</h2>
<p>Decals do not support the <strong>SRP Batcher</strong> by design because they use Material property blocks. To reduce the number of draw calls, decals can be batched together using GPU instancing. If the decals in your Scene use the same Material, and if the Material has the <strong>Enable GPU Instancing</strong> property turned on, Unity instances the Materials and reduces the number of draw calls.</p>
<p>To reduce the number of Materials necessary for decals, put multiple decal textures into one texture (atlas). Use the UV offset properties on the decal projector to determine which part of the atlas to display.</p>
<p>The following image shows an example of a decal atlas.</p>
<p><img src="Images/decal/decal-atlas.png" alt="Decal Atlas"> <br> <em>left: decal atlas with four decals. Right: a decal projector is projecting one of them. If the decal Material has GPU instancing enabled, any instance of the four decals is rendered in a single instanced draw call.</em></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/acarbonellb33/Unity_FSM_ToolKit/blob/main/Library/PackageCache/com.unity.render-pipelines.universal@14.0.9/Documentation~/renderer-feature-decal.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
